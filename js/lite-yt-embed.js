class LiteYTEmbed extends HTMLElement{connectedCallback(){this.videoId=this.getAttribute("videoid");let a=this.querySelector(".lty-playbtn");if(this.playLabel=a&&a.textContent.trim()||this.getAttribute("playlabel")||"Play",this.style.backgroundImage||(this.style.backgroundImage=`url("https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg")`),a||((a=document.createElement("button")).type="button",a.classList.add("lty-playbtn"),this.append(a)),!a.textContent){let b=document.createElement("span");b.className="lyt-visually-hidden",b.textContent=this.playLabel,a.append(b)}this.addEventListener("pointerover",LiteYTEmbed.warmConnections,{once:!0}),this.addEventListener("click",this.addIframe)}static addPrefetch(c,d,b){let a=document.createElement("link");a.rel=c,a.href=d,b&&(a.as=b),document.head.append(a)}static warmConnections(){LiteYTEmbed.preconnected||(LiteYTEmbed.addPrefetch("preconnect","https://www.youtube-nocookie.com"),LiteYTEmbed.addPrefetch("preconnect","https://www.google.com"),LiteYTEmbed.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),LiteYTEmbed.addPrefetch("preconnect","https://static.doubleclick.net"),LiteYTEmbed.preconnected=!0)}addIframe(c){if(this.classList.contains("lyt-activated"))return;c.preventDefault(),this.classList.add("lyt-activated");let b=new URLSearchParams(this.getAttribute("params")||[]);b.append("autoplay","1");let a=document.createElement("iframe");a.width=560,a.height=315,a.title=this.playLabel,a.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",a.allowFullscreen=!0,a.src=`https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${b.toString()}`,this.append(a),a.focus()}}customElements.define("lite-youtube",LiteYTEmbed)